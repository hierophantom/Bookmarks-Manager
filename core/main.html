<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Bookmark Manager</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="../utils/tailwind-modal.css">
  <link rel="stylesheet" href="../utils/modal.css">
  <link rel="stylesheet" href="../utils/tagify.min.css">
  <link rel="stylesheet" href="../utils/left-panel.css">
  <link rel="stylesheet" href="../utils/right-panel.css">
  <!-- Load main overlay for this chrome-extension:// page -->
  <script type="module" src="../service-search-engine/main-overlay/overlay.js"></script>
  <!-- Load BaseModal class for all modals -->
  <script src="../utils/base-modal.js"></script>
  <!-- Tag multi-select utility -->
  <script src="../utils/tag-multiselect.js"></script>
</head>
<body>
  <!-- Left Panel -->
  <div id="bmg-left-panel" class="left-panel">
    <div class="bmg-left-panel-header">
      <h3 class="bmg-left-panel-title">Folders</h3>
      <div class="bmg-left-panel-controls">
        <button id="bmg-left-panel-mode-toggle" class="bmg-left-panel-btn" title="Toggle floating/docked">âŠŸ</button>
        <button id="bmg-left-panel-close-btn" class="bmg-left-panel-btn" title="Close panel">âœ•</button>
      </div>
    </div>
    <div id="bmg-left-panel-content"></div>
  </div>

  <!-- Toggle button for left panel -->
  <button id="bmg-left-panel-toggle-btn" title="Folders Panel - Toggle (Ctrl+Shift+F or Cmd+Shift+F)">â˜°</button>

  <!-- Right Panel -->
  <div id="bmg-right-panel" class="right-panel">
    <div class="bmg-right-panel-header">
      <h3 class="bmg-right-panel-title">Active Tabs</h3>
      <div class="bmg-right-panel-controls">
        <button id="bmg-right-panel-mode-toggle" class="bmg-right-panel-btn" title="Toggle floating/docked">âŠŸ</button>
        <button id="bmg-right-panel-close-btn" class="bmg-right-panel-btn" title="Close panel">âœ•</button>
      </div>
    </div>
    <div id="bmg-right-panel-content"></div>
  </div>

  <!-- Toggle button for right panel -->
  <button id="bmg-right-panel-toggle-btn" title="Active Tabs Panel - Toggle (Ctrl+Shift+S or Cmd+Shift+S)">ğŸ“‘</button>

  <!-- Main content wrapper -->
  <div id="bmg-main-content">
    <!-- Top Bar with general settings -->
    <header class="topbar">
      <div class="topbar__title">Bookmark Manager</div>
      <div class="topbar__actions">
        <button id="open-search" title="Search (Cmd+Shift+E)">ğŸ”</button>
        <button id="personalize-btn" title="Personalize themes and backgrounds">ğŸ¨</button>
      </div>
    </header>

    <!-- Make Default New Tab Banner (hidden by default) -->
    <div id="make-default-banner" class="banner" style="display: none;">
      <div class="banner__title">âœ¨ Make this your default new tab page</div>
      <div class="banner__subtitle">See your bookmarks every time you open a new tab</div>
      <button id="make-default-btn" class="banner__button">Make Default New Tab Page</button>
    </div>

    <!-- Daily Quote Section -->
    <div id="daily-quote-container" class="quote" style="display: none;">
      <div id="quote-text" class="quote__text"></div>
      <a id="quote-author" href="#" target="_blank" class="quote__author"></a>
    </div>

    <!-- Page Container -->
    <div id="page-container">
      <!-- Page 1: Homepage / Widgets -->
      <section class="page" data-page="0">
        <div class="section-header">
          <h2 class="page__title">Homepage</h2>
          <button id="add-widget-btn" class="pill-btn">Add Widget</button>
        </div>
        <section class="widgets-section">
          <div id="widgets-container"></div>
        </section>
      </section>

      <!-- Page 2: Bookmarks -->
      <section class="page" data-page="1">
        <div class="section-header">
          <h2 class="page__title">Bookmarks</h2>
        </div>
        <section class="tab-groups-section" id="tab-groups-section" style="display: none;">
          <h3 class="subheading">Tab Groups</h3>
          <div id="tab-groups-container"></div>
        </section>

        <div class="filter-row">
          <span class="bm-input-wrapper" style="position: relative; flex: 1; margin-right: 8px; display: inline-block;">
            <input id="text-search" placeholder="Search by title or URL..." style="width: 100%; padding-right: 28px;" />
            <button id="text-clear" title="Clear" aria-label="Clear" style="position: absolute; right: 8px; top: 50%; transform: translateY(-50%); border: none; background: transparent; cursor: pointer; font-size: 16px; line-height: 1; color: #888;">Ã—</button>
          </span>
          <input id="tag-filter" placeholder="Filter by tags..." />
          <div style="margin-left: auto; display: flex; gap: 8px; align-items: center;">
            <label for="sort-dropdown" style="font-size: 13px; font-weight: 600;">Sort:</label>
            <select id="sort-dropdown" style="padding: 4px 8px; border-radius: 6px; border: 1px solid #ccc; background: white; cursor: pointer; font-size: 13px;">
              <option value="none">Default</option>
              <optgroup label="Sort Folders">
                <option value="folders-az">Folders: A â†’ Z</option>
                <option value="folders-za">Folders: Z â†’ A</option>
                <option value="folders-newest">Folders: Last Added</option>
                <option value="folders-oldest">Folders: First Added</option>
              </optgroup>
              <optgroup label="Sort Bookmarks">
                <option value="bookmarks-az">Bookmarks: A â†’ Z</option>
                <option value="bookmarks-za">Bookmarks: Z â†’ A</option>
                <option value="bookmarks-newest">Bookmarks: Last Added</option>
                <option value="bookmarks-oldest">Bookmarks: First Added</option>
              </optgroup>
            </select>
          </div>
        </div>

        <main id="bookmarks-root"></main>
      </section>

      <!-- Page 3: Journey -->
      <section class="page" data-page="2">
        <h2 class="page__title">Journey</h2>
        <p style="font-size:16px;color:var(--theme-secondary);">Coming soon. For now, enjoy this joke: Why do programmers prefer dark mode? Because light attracts bugs.</p>
      </section>
    </div>

    <!-- Bottom Navigation -->
    <nav id="bottom-nav" class="bottom-nav">
      <button class="nav-btn" data-target="0">ğŸ  Home</button>
      <button class="nav-btn" data-target="1">ğŸ”– Bookmarks</button>
      <button class="nav-btn" data-target="2">ğŸ§­ Journey</button>
    </nav>
  </div>
  </div>
  <!-- End bmg-main-content -->

  <template id="folder-template">
    <section class="folder">
      <h2 class="folder-title"></h2>
      <div class="slots"></div>
    </section>
  </template>

  <script src="../utils/storage.js"></script>
  <script src="../utils/keyboard-navigation.js"></script>
  <script src="../utils/tagify.min.js"></script>
  <script src="../utils/modal.js"></script>
  <script src="../utils/undo.js"></script>
  <script src="../utils/undo-persist.js"></script>
  <script src="../utils/slots.js"></script>
  <script src="../services/themes.js"></script>
  <script src="../services/backgrounds.js"></script>
  <script src="../services/bookmarks.js"></script>
  <script src="../services/tags.js"></script>
  <script src="../services/tab-groups.js"></script>
  <script src="../services/left-panel.js"></script>
  <script src="../utils/left-panel-ui.js"></script>
  <script src="../services/right-panel.js"></script>
  <script src="../utils/save-tabs-modal.js"></script>
  <script src="../utils/right-panel-ui.js"></script>
  <script src="../services/bookmark-modals.js"></script>
  <script src="../services/widgets.js"></script>
  <script src="../modals/theme-settings.js"></script>
  <script src="daily-quote.js"></script>
  <script src="main.js"></script>
</body>
</html>
